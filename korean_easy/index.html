<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
  <!-- ✅ META BLOCK (INDEX) -->
<meta name="description" content="Read, write, and meditate on the Word. Faith Scripture.">

<!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:site_name" content="Faith Scripture">
<meta property="og:title" content="Faith Scripture">
<meta property="og:description" content="Read, write, and meditate on the Word.">
<meta property="og:url" content="https://noemisuh.github.io/faith-scripture/korean_easy/">
<meta property="og:image" content="https://noemisuh.github.io/faith-scripture/og-image.png">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Faith Scripture">
<meta name="twitter:description" content="Read, write, and meditate on the Word.">
<meta name="twitter:image" content="https://noemisuh.github.io/faith-scripture/og-image.png">

<!-- Canonical -->
<link rel="canonical" href="https://noemisuh.github.io/faith-scripture/korean_easy/">

<title>쉬운성경 목차</title>
<style>
  :root{
    --cols:8;
    --ot-rows:5;
    --nt-rows:4;

    --book-h:42px;          /* 셀 높이 */
    --gap-x:18px;           /* 좌우 간격 */
    --gap-y:12px;           /* 상하 간격 */

    --maxw:1160px;          /* 전체 폭 */
    --top-space:96px;       /* 상단 여백 크게 */
    --mid-space:64px;       /* 구약–신약 사이 여백 */

    --line:#e5e7eb; --bg:#f8fafc; --text:#0f172a;
    --muted:#64748b; --shadow:0 10px 24px rgba(15,23,42,.06);
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:#fff}

  .wrap{max-width:var(--maxw);margin:0 auto;padding:var(--top-space) 20px 32px}

  h1{margin:0 0 20px;font-size:24px;font-weight:900;letter-spacing:-.02em}
  .section{
    border:1px solid var(--line);
    border-radius:16px;
    background:var(--bg);
    box-shadow:var(--shadow);
    padding:18px;
  }
  .section + .section{margin-top:var(--mid-space)}

  .sec-head{display:flex;align-items:center;gap:10px;margin:0 0 14px}
  .sec-head h2{margin:0;font-size:15px}
  .tag{font-size:12px;color:#334155;background:#eef2f7;border:1px solid var(--line);padding:2px 8px;border-radius:999px}

  /* 그리드: 보이지 않는 칸으로 줄맞춤 */
  .grid{
    display:grid;
    grid-template-columns:repeat(var(--cols), minmax(0,1fr));
    grid-auto-rows:var(--book-h);
    gap:var(--gap-y) var(--gap-x);
  }
  .cell{display:flex;align-items:center;justify-content:center;position:relative}
  .cell.empty{pointer-events:none}       /* 공칸: 클릭 없음 */

  /* 책 버튼 - 타원형 제거하고 텍스트만 */
  .book-btn{
    display:inline-block;
    height:var(--book-h);
    line-height:var(--book-h);
    font-size:16px;           /* 글씨 크게 */
    font-weight:700;
    color:var(--text);
    text-decoration:none;
    white-space:nowrap;
    overflow:hidden;
    text-overflow:ellipsis;
    padding:0 6px;
    border:none; background:transparent; cursor:pointer;
  }
  .book-btn:hover{ text-decoration:underline; }

  /* 장 팝업 */
  .chap-pop{
    position:absolute; z-index:20; left:50%; transform:translateX(-50%);
    top:calc(var(--book-h) + 8px);
    display:none; max-width:640px; max-height:44vh; overflow:auto;
    background:#fff; border:1px solid var(--line); border-radius:12px;
    box-shadow:0 14px 28px rgba(15,23,42,.12);
    padding:8px;
  }
  .cell.open .chap-pop{display:block}
  .chap{display:inline-block;margin:4px 6px;padding:6px 10px;font-size:14px;border:1px solid var(--line);border-radius:10px;text-decoration:none;color:var(--text)}
  .chap:hover{background:#f7fafc}

  /* 모바일: 줄 수만 늘려서 깨짐 방지, 글씨는 약간만 축소 */
  @media (max-width:640px){
    :root{ --cols:4; --ot-rows:10; --nt-rows:8; --book-h:40px; --gap-x:12px; --gap-y:10px; --top-space:72px; }
    .book-btn{font-size:15px}
  }
</style>
</head>
<body>
  <!-- 이어쓰기 배너 (언어 인덱스 전용) -->
  <div id="resumeBar" style="display:none;align-items:center;justify-content:center;gap:8px;background:#111;color:#fff;padding:10px;border-radius:8px;margin:12px auto;max-width:800px">
    마지막에 보던 장으로 이어서 쓰시겠어요?
    <button id="resumeGo" style="background:#fff;color:#111;border:0;border-radius:999px;padding:6px 12px;font-weight:700;cursor:pointer">이어쓰기</button>
    <button id="resumeStay" style="background:transparent;color:#fff;border:1px solid rgba(255,255,255,.35);border-radius:999px;padding:6px 12px;cursor:pointer">목록 보기</button>
  </div>

  <div class="wrap">
    <h1 id="pageTitle">Bible Index</h1>

    <section class="section" id="sec-ot">
      <div class="sec-head"><h2 id="otLabel">Old Testament</h2><span class="tag">39</span></div>
      <div id="ot" class="grid"></div>
    </section>

    <section class="section" id="sec-nt">
      <div class="sec-head"><h2 id="ntLabel">New Testament</h2><span class="tag">27</span></div>
      <div id="nt" class="grid"></div>
    </section>
  </div>
 
<div class="wrap">
  <h1>쉬운성경 목차</h1>

  <section class="section" id="sec-ot">
    <div class="sec-head"><h2>구약</h2><span class="tag">39</span></div>
    <div id="ot" class="grid" style="--rows:var(--ot-rows)"></div>
  </section>

  <section class="section" id="sec-nt">
    <div class="sec-head"><h2>신약</h2><span class="tag">27</span></div>
    <div id="nt" class="grid" style="--rows:var(--nt-rows)"></div>
  </section>
</div>

<script>
(function(){
  'use strict';

  /* =========================
     데이터: 장 수 & 이름(한국어)
  ==========================*/
  const OT = [
    ["genesis",50],["exodus",40],["leviticus",27],["numbers",36],["deuteronomy",34],
    ["joshua",24],["judges",21],["ruth",4],["1-samuel",31],["2-samuel",24],
    ["1-kings",22],["2-kings",25],["1-chronicles",29],["2-chronicles",36],
    ["ezra",10],["nehemiah",13],["esther",10],["job",42],["psalms",150],
    ["proverbs",31],["ecclesiastes",12],["song-of-songs",8],["isaiah",66],
    ["jeremiah",52],["lamentations",5],["ezekiel",48],["daniel",12],
    ["hosea",14],["joel",3],["amos",9],["obadiah",1],["jonah",4],
    ["micah",7],["nahum",3],["habakkuk",3],["zephaniah",3],["haggai",2],
    ["zechariah",14],["malachi",4]
  ];
  const NT = [
    ["matthew",28],["mark",16],["luke",24],["john",21],["acts",28],
    ["romans",16],["1-corinthians",16],["2-corinthians",13],["galatians",6],
    ["ephesians",6],["philippians",4],["colossians",4],["1-thessalonians",5],
    ["2-thessalonians",3],["1-timothy",6],["2-timothy",4],["titus",3],
    ["philemon",1],["hebrews",13],["james",5],["1-peter",5],["2-peter",3],
    ["1-john",5],["2-john",1],["3-john",1],["jude",1],["revelation",22]
  ];
  const NAME_KO = {
    "genesis":"창세기","exodus":"출애굽기","leviticus":"레위기","numbers":"민수기","deuteronomy":"신명기",
    "joshua":"여호수아","judges":"사사기","ruth":"룻기","1-samuel":"사무엘상","2-samuel":"사무엘하",
    "1-kings":"열왕기상","2-kings":"열왕기하","1-chronicles":"역대상","2-chronicles":"역대하",
    "ezra":"에스라","nehemiah":"느헤미야","esther":"에스더","job":"욥기","psalms":"시편",
    "proverbs":"잠언","ecclesiastes":"전도서","song-of-songs":"아가","isaiah":"이사야",
    "jeremiah":"예레미야","lamentations":"예레미야애가","ezekiel":"에스겔","daniel":"다니엘",
    "hosea":"호세아","joel":"요엘","amos":"아모스","obadiah":"오바댜","jonah":"요나",
    "micah":"미가","nahum":"나훔","habakkuk":"하박국","zephaniah":"스바냐","haggai":"학개",
    "zechariah":"스가랴","malachi":"말라기","matthew":"마태복음","mark":"마가복음",
    "luke":"누가복음","john":"요한복음","acts":"사도행전","romans":"로마서",
    "1-corinthians":"고린도전서","2-corinthians":"고린도후서","galatians":"갈라디아서",
    "ephesians":"에베소서","philippians":"빌립보서","colossians":"골로새서",
    "1-thessalonians":"데살로니가전서","2-thessalonians":"데살로니가후서",
    "1-timothy":"디모데전서","2-timothy":"디모데후서","titus":"디도서",
    "philemon":"빌레몬서","hebrews":"히브리서","james":"야고보서","1-peter":"베드로전서",
    "2-peter":"베드로후서","1-john":"요한1서","2-john":"요한2서","3-john":"요한3서",
    "jude":"유다서","revelation":"요한계시록"
  };

  /* 폴더 alias (약자 → 실제 폴더 접두어) */
  const ALIAS = {
    ko: { "genesis":"changsegi" },  // 창세기만 약자 사용 중이면 여기에 추가 확장
    zh: { "genesis":"chuangshiji" },
    es: {}, en: {}
  };

  // 현재 경로로 언어 추정
  const path = location.pathname.toLowerCase();
  let LANG = 'ko';
  if (path.includes('/chinese_cuv/')) LANG = 'zh';
  else if (path.includes('/spanish_nvi/')) LANG = 'es';
  else if (path.includes('/english_niv/')) LANG = 'en';

  const NAME = NAME_KO; // 이 파일은 korean_easy 전용
  const AL = ALIAS[LANG] || {};

  /* ============ 렌더링 ============ */
  const COLS = getComputedStyle(document.documentElement).getPropertyValue('--cols').trim() || 8;

  function padToGrid(arr, rows, cols){
    const need = rows*cols - arr.length;
    if (need > 0) return arr.concat(Array(need).fill(null));
    return arr.slice(0, rows*cols);
  }

  function openChapters(cell, slug, chapters){
    // 장 팝업을 동적으로 생성/토글
    document.querySelectorAll('.cell.open').forEach(el=>el.classList.remove('open'));
    cell.classList.add('open');
  }

  function makeCell(item){
    const cell = document.createElement('div');
    cell.className = 'cell';
    if (!item){ cell.classList.add('empty'); return cell; }

    const [slug, count] = item;
    const title = NAME[slug] || slug;

    // 텍스트 버튼
    const btn = document.createElement('button');
    btn.type='button'; btn.className='book-btn';
    btn.textContent = title;

    // 팝업
    const pop = document.createElement('div');
    pop.className = 'chap-pop';

    const folder = (AL[slug] || slug);
    for (let i=1;i<=count;i++){
      const n = String(i).padStart(3,'0');
      const a = document.createElement('a');
      a.className='chap'; a.textContent=i;
      a.href = './' + folder + n + '/';
      pop.appendChild(a);
    }

    btn.addEventListener('click', ()=>{
      // 토글
      const opened = cell.classList.contains('open');
      document.querySelectorAll('.cell.open').forEach(el=>el.classList.remove('open'));
      if (!opened) cell.classList.add('open');
    });

    cell.append(btn, pop);
    return cell;
  }

  function render(list, mountId, rows){
    const mount = document.getElementById(mountId);
    if (!mount) return;
    const cols = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--cols')) || 8;
    padToGrid(list, rows, cols).forEach(item=> mount.appendChild(makeCell(item)));
  }

  render(OT, 'ot', 5);
  render(NT, 'nt', 4);

  // 바깥 클릭 시 팝업 닫기
  document.addEventListener('click', e=>{
    if (e.target.closest('.cell')) return;
    document.querySelectorAll('.cell.open').forEach(el=>el.classList.remove('open'));
  });
})();
</script>

  <!-- (여기까지 기존 스크립트) -->
</script>

<!-- 이어쓰기 배너 동작 스크립트: 새 블록으로 추가 -->
<script>
(function smartLandingForIndex(){
  var segs = location.pathname.split('/').filter(Boolean);
  var versionDir = segs[segs.length - 1] || segs[segs.length - 2] || '';
  var last = localStorage.getItem('fs:last:' + versionDir);
  var params = new URLSearchParams(location.search);
  if (!last || params.has('nolast')) return;

  var bar = document.getElementById('resumeBar');
  if (!bar) return;
  bar.style.display = 'flex';

  document.getElementById('resumeGo')?.addEventListener('click', function(){ location.href = last; });
  document.getElementById('resumeStay')?.addEventListener('click', function(){ bar.remove(); });
})();
</script>
</body>
</html>
